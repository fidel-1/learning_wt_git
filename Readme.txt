Описание проекта:

Заказчик проекта - Интернет-магазин «В один клик» продаёт разные товары: для детей, для дома, мелкую бытовую технику, косметику и продукты. Ключевая потребность заказчика — удерживать активность постоянных клиентов.

Цель проекта - разработать решение, которое позволит персонализировать предложения постоянным клиентам, чтобы увеличить их покупательскую активность.

Задачи проекта:

построить модель, которая предскажет вероятность снижения покупательской активности клиента в следующие три месяца.
включить дополнительные данные финансового департамента о прибыльности клиента: какой доход каждый покупатель приносил компании за последние три месяца.
используя данные модели и данные о прибыльности клиентов, нужно выделить сегменты покупателей и разработать для них персонализированные предложения.
Источники данных:

Файл market_file.csv содержит данные о поведении покупателя на сайте, о коммуникациях с покупателем и его продуктовом поведении. Файл market_money.csv содержит данные о выручке, которую получает магазин с покупателя, то есть сколько покупатель всего потратил за период взаимодействия с сайтом. Файл market_time.csv — таблица с данными о времени (в минутах), которое покупатель провёл на сайте в течение периода. Файл money.csv - таблица с данными о среднемесячной прибыли покупателя за последние 3 месяца: какую прибыль получает магазин от продаж каждому покупателю.

Итого:

1.Загружены и изучены данные.

Данные предобработаны, приведены в соответствующие форматы. Найдены и удалены неявные дубликаты. Типы данных приведены в соответствие.
3 Проведен исследовательский анализ категориальных и количественных признаков всех 4 таблиц.

4.Проведено объединение таблиц по уникальному ключу id пользователя и созданием доп. признаков.

5.Проведен корреляционный анализ. Выявили:

- высокую положительную корреляцию Спирмана между признаками "выручка за текущий месяц" и "выручка за предыдущий месяц". Исходим из допущения, что мультиколлинерность возникает при значениях свыше 0,9, признаки не удаляем.
- оч высокую корреляцию между целевой переменной и индексом (id). Очень похоже на утечку целевой переменной. В виду того, что индекс не будет использоваться как входящий признак в модели, игнорируем.
высокую корреляцию между целевой переменной и средним количеством просмотренных страниц за визит (0,75).
- умененную корреляцию между целевой переменной и сл.признаками: количество минут проведенных на сайте за предыдущий месяц (0,68) количество минут проведенных на сайте за текущий месяц (0,58), среднемесячное значение маркетинговых коммуникаций на последние 6 мес(0,55) количество категорий товаров просмотренных на сайте за визит (0,54), среднемесячная доля покупок по акции (0,5), общее число неоплаченных товаров в корзине за последние 3 месяца (0,5)

6. Построен пайплайн. В качестве моделей в пайплайне использованы:
- DecisionTreeClassifier
- KNeighborsClassifier
- SVC
- LogisticRegression

 6.1. В качестве метрики оценки моделей выбрана ROC AUC, по сл. причинам: нет точной информации о стоимости ошибки первого рода. Нет информации о стоимости мероприятий по удержанию клиента. Сложно оценить будут ли для бизнеса маркетинговые мероприятия в расчете на 1 клиента (FP) стоить дороже, чем потеря клиента. Дисбаланс классов присутствует, но не является значительным, поэтому нет оснований считать что метрика ROC AUC будет излишне оптимистичной. 
6.2. В созданном пайплайне подготовки и обучения моделей использованы 4 типа моделей, 4 метода кодирования данных, случайным поиском перебирались в т.ч. гипперпараметры моделей, определены их комбинации, проведена проверка моделей на тестовой выборке, определа лучшая модель SVC.

7. Проверен анализ важности признаков:
7.1. Наиболее важными признаками по итогам анализа permutation_importance и значений Шепли являются:

Среднее количество страниц, которые просмотрел покупатель за один визит на сайт за последние 3 месяца.
Количество минут, которые клиент провел на сайте в текущем месяце.
Количество минут, которые клиент провел на сайте в предыдущем месяце.
Влияние этих признаков также подтверждается коэффициентом Фи

7.2. Чем выше значения 3х лидирующих признаков, тем ниже вероятность оттока (т.к. положительным классом у нас закодировано снижение покупательской активности). Рекомендация клиенту - стимулировать вовлечение пользователей на площадке (в первую очень по обозначенным в п.1 характеристикам поведения), анализировать эти характеристки при проведении А/В тест и маркетинговых активностей.

7.3. Высокая частотнось маркетинговых коммуникаций за последние 6 месяцев не оказывают большого влияния на итоговое решение модели, но низкие значения признака значительно повышают вероятность оттока (снижения покупательской активности). Т.е маркетинговые коммуникации можно назвать "гигиеническим фактором".

8. Проведена сегментация покупателей и сформированы рекомендации для заказчика по работе с выделенным сегментом.

8.1 В качестве приоритетного сегмента для анализа выделен сегмент:

более прибыльные клиенты (ТОП 25 %)
со значением признака Покупательская активность "снизилась".
Это позволит в первую очередь сконцентрироваться на срочном (готовы уйти) и важном (наиболее прибыльные клиенты).

8.2 По итогам анализа значений значимых признаков для приоритетного сегмента можно сформулировать сл. предложения:
Разработка /оптимизация рекомендаций по товарам, заинтересовавших эту группу пользователей. Для тех пользователей приоритетного сегмента, которые не дали согласие на отправление им рекомендаций - рекомендацию целесообразно проводить в момент добавления товаров в корзину (как правило, пользователь уже аутентифицирован). Это позволить поднять важные для недопущения оттока метрики "Количество минут проведенных на сайте", "Среднее количество просмотренных категорий за визит"
Проведение дополнительных коммуникаций c выделенным сегментом(там где возможно) рассылки, звонки, показы рекламы до уровня 3.7 - 4.9 контактов в месяц.
Доля категорий с техникой у пользователей склонных к оттоку значительно ниже, чем у активных пользователей. Возможное решение сосредоточится именно на этом подсегменте пользователей, постепено мотивируя их к покупке товаров с долгим жизненным циклом.
Доля ационных покупок у приоритетного сегмента выше, чем у первоначальной выборки, что является одной из характеристик клиентов склонных к оттоку. Возможное решение - сократь установить доп лимит на покупу товаров по акции в шт. выше 0,5 от общего числа покупок.